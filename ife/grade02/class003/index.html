<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.nav{height:50px;}
		.nav button{height:30px;width: 50px;}
		.card_wrapper{display: flex;}
		.card_wrapper>div{display:flex;border: 1px solid; width: 120px; height: 150px; border-radius: 5px; margin: 5px; border-color: #000;}
		.card_left{align-self: flex-start;padding: 5px;}
		.card_center{align-self: center;margin: 0 auto;font-size: 50px;}
		.card_right{align-self: flex-end;padding: 5px;}
	</style>
</head>
<body>
	<div class="nav">
		<button  onclick="send_card();">发牌</button> 
		<input type="checkbox" name="choose_player" value="1">
		<input type="checkbox" name="choose_player" value="2">
		<input type="checkbox" name="choose_player" value="3">
		<input type="checkbox" name="choose_player" value="4">
		<button  onclick="compare();">比较</button>
	</div>
	<div id="player_0" class="card_wrapper"></div>
	<div id="player_1" class="card_wrapper"></div>
	<div id="player_2" class="card_wrapper"></div>
	<div id="player_3" class="card_wrapper"></div>

	<script type="text/javascript" src="index.js"></script>
	<script>
		
		function send_card(){
			for(var i = 0 ; i<4 ; i++){
				var card = Texas.show_card();
				if(card){
					document.getElementById("player_"+i).append(render(card));
				}
			}
		}

		var render = function(card){
			var dom = document.createElement("div");
			if(card.type == 0 || card.type == 2){
				dom.style.color = "#000";	
			}else{
				dom.style.color = "red";
			}
			dom.setAttribute("num",card.num);
			dom.innerHTML = "<div class='card_left'>" 
							+ card.stype + card.snum 
							+ "</div><div class='card_center'>" 
							+ card.stype + "</div><div class='card_right'>" 
							+ card.snum + card.stype + "</div>";
			return dom;
		}

		function compare(){
			var boxes = document.getElementsByName("choose_player");
			var players = [];
			for(var i=0;i<boxes.length;i++){
				if(boxes[i].checked){
					players.push(boxes[i].value-1);
				}
			}

			if(players.length != 2){
				alert("只支持两者比较！");
			}else{
				var result = Texas.compare(getPlayerCards("player_"+players[0]),getPlayerCards("player_"+players[1]));
				console.log(result);
			}
		}

		function getPlayerCards(player){
			var cards = document.getElementById(player).children;
			var nums = [];
			for (var i = 0; i < cards.length; i++) {
				nums.push(cards[i].getAttribute("num"));
			}
			return nums;
		}


	</script>
</body>
</html>